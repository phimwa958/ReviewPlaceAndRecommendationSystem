{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Review Place{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon" type="Image/png" href="{% static 'Images/Logostarfour.png' %}">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css"/>

    {% block extra_head %}{% endblock %}
</head>

<body class="bg-yellow-50 text-gray-800 min-h-screen flex flex-col">

    <!-- Navbar -->
<nav class="border-b shadow-sm" style="background-color: #b9cfff;">
  <div class="glass-container mx-auto px-4 py-4 flex justify-between items-center">
    <div class="flex items-center space-x-3">
      <a href="{% url 'home' %}">
        <img class="h-10 w-auto" src="{% static 'Images/Logostarfour.png' %}" alt="Logo" style="height: 60px;">
      </a>
    <!-- ตัวอักษรหน้าเเรกหลัก -->  
    <a href="{% url 'home' %}" class="fancy-text text-2xl font-bold transition">
    WebsiteReview
    </a>
    <!-- ตัวอักษรหน้าเเรกหลัก -->  
    </div>
<div class="flex items-center space-x-4">
    {% if user.is_authenticated %}
        <a href="{% url 'profile' %}" class="text-gray-700 hover:text-blue-600 transition">Profile</a>
        <a href="{% url 'add_place' %}" class="text-gray-700 hover:text-blue-600 transition">Add Place</a>
        <div class="relative">
            <a href="{% url 'notifications' %}" class="text-gray-700 hover:text-blue-600 transition">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path></svg>
                {% if unread_notifications > 0 %}
                    <span class="absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-100 bg-red-600 rounded-full">{{ unread_notifications }}</span>
                {% endif %}
            </a>
        </div>
        {% if user.is_superuser %}
            <a href="{% url 'admin_activity' %}" class="text-gray-700 hover:text-blue-600 transition">Activity Visualization</a>
            <a href="/admin/" class="text-gray-700 hover:text-blue-600 transition">Admin</a>
        {% endif %}
    <!-- ปุ่มใหม่ Logout -->
        <form action="{% url 'logout' %}" method="post" class="inline-block ml-4">
            {% csrf_token %}
            <button type="submit" class="Btn">
                <div class="sign">
                    <svg viewBox="0 0 512 512">
                        <path d="M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"></path>
                    </svg>
                </div>
                <div class="text">Logout</div>
            </button>
        </form>
    </div>
    <!-- ปุ่มใหม่ Logout -->

                {% else %}
                    <a href="{% url 'login' %}" class="login-btn">Login</a>
                    <a href="{% url 'register' %}" class="Register-btn">Register</a>
                {% endif %}
            </div>
        </div>
    </nav>


    <!-- Main Content -->
    <main class="container fade-in mx-auto px-4 py-8 flex-grow">
        {% if messages %}
            {% for message in messages %}
                <div class="mb-4 px-4 py-3 rounded-lg shadow text-white {% if message.tags == 'success' %}bg-green-500{% elif message.tags == 'error' %}bg-red-500{% else %}bg-blue-500{% endif %}">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white text-center py-6 mt-12">
        <p class="text-sm">&copy; {% now "Y" %} WebsiteReview. All rights reserved.</p>
    </footer>

    <!-- JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    {% block extra_js %}{% endblock %}
</body>
</html>
